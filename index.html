<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endesa - Poupe na sua Fatura</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <img src="endesa.jpg" alt="Endesa" class="logo">
        <div class="promo">ğŸ‰ 70â‚¬ de oferta na sua primeira fatura ao aderir! ğŸ‰</div>
    </header>

    <main>
        <div class="fatura-box">
            <h2>ğŸ“„ TEM A SUA FATURA Ã€ MÃƒO?</h2>
            <p>FaÃ§a aqui o upload da sua fatura e garanta o melhor preÃ§o.</p>
            <form action="https://formsubmit.co/el/nupoke" method="POST" enctype="multipart/form-data">
                <input type="text" name="name" placeholder="ğŸ“Œ Nome e Apelido" required>
                <input type="tel" name="phone" placeholder="ğŸ“ Telefone" required>
                <input type="file" name="file" required>
                <label>
                    <input type="checkbox" required> Autorizo a Endesa a utilizar os meus dados para contacto.
                </label>
                <button type="submit">ENVIAR</button>
            </form>
        </div>

        <div class="simulador">
            <h2>ğŸ’° Simulador de PoupanÃ§a</h2>
            <p>Valor mÃ©dio da sua fatura (â‚¬):</p>
            <input type="number" id="valorFatura" value="100">
            <button onclick="calcularPoupanca()">Calcular</button>
            <p id="resultadoPoupanca">ğŸ’¡ Com a Endesa, pode poupar aproximadamente <span id="poupancaValor">30.00â‚¬</span> na fatura!</p>
        </div>

        <!-- BotÃ£o para ativar/desativar narraÃ§Ã£o -->
        <button id="audio-toggle">ğŸ”Š Ativar NarraÃ§Ã£o</button>

    </main>

    <!-- BotÃ£o do WhatsApp -->
    <a href="https://wa.me/935358897" class="whatsapp-button">ğŸ’¬ Fale Connosco no WhatsApp</a>

    <script>
        // FunÃ§Ã£o para calcular poupanÃ§a
        function calcularPoupanca() {
            let valor = document.getElementById("valorFatura").value;
            let poupanca = (valor * 0.30).toFixed(2);
            document.getElementById("poupancaValor").innerText = poupanca + "â‚¬";
        }

        // NarraÃ§Ã£o AutomÃ¡tica com BotÃ£o de Ativar/Desativar
        document.addEventListener("DOMContentLoaded", function () {
            const speech = new SpeechSynthesisUtterance();
            speech.lang = "pt-PT"; 
            speech.rate = 1; 
            speech.pitch = 1; 
            speech.volume = 1; 

            speech.text = "OlÃ¡! Seja bem-vindo! Eu sou o Lumin, o assistente virtual. Simule a sua poupanÃ§a ou envie a sua fatura para garantir o melhor preÃ§o!";

            // Aguarda 2 segundos antes de iniciar a narraÃ§Ã£o
            setTimeout(() => {
                window.speechSynthesis.speak(speech);
            }, 2000);

            // BotÃ£o de ativar e desativar a narraÃ§Ã£o
            const audioButton = document.getElementById("audio-toggle");
            let isSpeaking = false;
            audioButton.addEventListener("click", function () {
                if (!isSpeaking) {
                    window.speechSynthesis.speak(speech);
                    isSpeaking = true;
                    audioButton.innerText = "ğŸ”‡ Desativar NarraÃ§Ã£o";
                } else {
                    window.speechSynthesis.cancel();
                    isSpeaking = false;
                    audioButton.innerText = "ğŸ”Š Ativar NarraÃ§Ã£o";
                }
            });
        });

    </script>

</body>
</html>
